---
source: src/output/sonarqube.rs
expression: parsed
---
{
  "issues": [
    {
      "effortMinutes": 5,
      "primaryLocation": {
        "filePath": "db/migrations/V042__add_index.sql",
        "message": "CREATE INDEX on 'orders' should use CONCURRENTLY.",
        "textRange": {
          "endLine": 3,
          "startLine": 3
        }
      },
      "ruleId": "PGM001"
    },
    {
      "effortMinutes": 15,
      "primaryLocation": {
        "filePath": "db/migrations/V043__add_fk.sql",
        "message": "FK on 'orders.customer_id' has no covering index.",
        "textRange": {
          "endLine": 12,
          "startLine": 10
        }
      },
      "ruleId": "PGM501"
    },
    {
      "effortMinutes": 10,
      "primaryLocation": {
        "filePath": "db/migrations/V042__add_index.sql",
        "message": "Table 'events' has UNIQUE NOT NULL but no PRIMARY KEY.",
        "textRange": {
          "endLine": 20,
          "startLine": 20
        }
      },
      "ruleId": "PGM503"
    }
  ],
  "rules": [
    {
      "cleanCodeAttribute": "COMPLETE",
      "description": "Missing CONCURRENTLY on CREATE INDEX. See https://robert-sjoblom.github.io/pg-migration-lint/rules#pgm001",
      "engineId": "pg-migration-lint",
      "id": "PGM001",
      "impacts": [
        {
          "severity": "HIGH",
          "softwareQuality": "RELIABILITY"
        }
      ],
      "name": "Missing CONCURRENTLY on CREATE INDEX",
      "severity": "CRITICAL",
      "type": "BUG"
    },
    {
      "cleanCodeAttribute": "EFFICIENT",
      "description": "Foreign key without covering index on referencing columns. See https://robert-sjoblom.github.io/pg-migration-lint/rules#pgm501",
      "engineId": "pg-migration-lint",
      "id": "PGM501",
      "impacts": [
        {
          "severity": "MEDIUM",
          "softwareQuality": "MAINTAINABILITY"
        }
      ],
      "name": "Foreign key without covering index on referencing columns",
      "severity": "MAJOR",
      "type": "CODE_SMELL"
    },
    {
      "cleanCodeAttribute": "CONVENTIONAL",
      "description": "UNIQUE NOT NULL used instead of PRIMARY KEY. See https://robert-sjoblom.github.io/pg-migration-lint/rules#pgm503",
      "engineId": "pg-migration-lint",
      "id": "PGM503",
      "impacts": [
        {
          "severity": "LOW",
          "softwareQuality": "MAINTAINABILITY"
        }
      ],
      "name": "UNIQUE NOT NULL used instead of PRIMARY KEY",
      "severity": "INFO",
      "type": "CODE_SMELL"
    }
  ]
}
